<extend name="Common/base" />

<block name="content">
    <style>
        input[type="button"], input[type="submit"], input[type="reset"] {
        -webkit-appearance: none;
        }
        textarea {  -webkit-appearance: none;}
        input{
            width:100%;
            padding:5px 5px;
            border: 1px solid #FFF;
        }
        .btn {
            background: #FFF;
            color: #03A9F4;
            border: 0;
            padding:7px 0;
            border-radius: 5px;
        }
        .sendSms{
            background: #FFF;
        }
        .yfsSms{
            background: #b0b1b0;
        }
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-weight: 300;
        }
        body {
            font-family: 'Source Sans Pro', sans-serif;
            font-weight: 300;
        }
        body ::-webkit-input-placeholder {
            /* WebKit browsers */
            font-family: 'Source Sans Pro', sans-serif;
            color: grey;
            font-weight: 300;
        }
        body :-moz-placeholder {
            /* Mozilla Firefox 4 to 18 */
            font-family: 'Source Sans Pro', sans-serif;
            color: grey;
            opacity: 1;
            font-weight: 300;
        }
        body ::-moz-placeholder {
            /* Mozilla Firefox 19+ */
            font-family: 'Source Sans Pro', sans-serif;
            color: grey;
            opacity: 1;
            font-weight: 300;
        }
        body :-ms-input-placeholder {
            /* Internet Explorer 10+ */
            font-family: 'Source Sans Pro', sans-serif;
            color: grey;
            font-weight: 300;
        }
        .wrapperlog {
            background: #009688;
            background: -webkit-linear-gradient(top left, #009688 10%, #03a9f4 110%);
            background: linear-gradient(to bottom right, #009688 10%, #03a9f4 110%);
            opacity: 0.8;
            position: absolute;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .bg-bubbles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        .bg-bubbles li {
            position: absolute;
            list-style: none;
            display: block;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.15);
            bottom: -160px;
            -webkit-animation: square 10s infinite;
            animation: square 10s infinite;
            -webkit-transition-timing-function: linear;
            transition-timing-function: linear;
        }
        .bg-bubbles li:nth-child(1) {
            left: 10%;
        }
        .bg-bubbles li:nth-child(2) {
            left: 20%;
            width: 80px;
            height: 80px;
            -webkit-animation-delay: 2s;
            animation-delay: 2s;
            -webkit-animation-duration: 17s;
            animation-duration: 17s;
        }
        .bg-bubbles li:nth-child(3) {
            left: 25%;
            -webkit-animation-delay: 4s;
            animation-delay: 4s;
        }
        .bg-bubbles li:nth-child(4) {
            left: 40%;
            width: 60px;
            height: 60px;
            -webkit-animation-duration: 22s;
            animation-duration: 22s;
            background-color: rgba(255, 255, 255, 0.25);
        }
        .bg-bubbles li:nth-child(5) {
            left: 70%;
        }
        .bg-bubbles li:nth-child(6) {
            left: 80%;
            width: 120px;
            height: 120px;
            -webkit-animation-delay: 3s;
            animation-delay: 3s;
            background-color: rgba(255, 255, 255, 0.2);
        }
        .bg-bubbles li:nth-child(7) {
            left: 32%;
            width: 160px;
            height: 160px;
            -webkit-animation-delay: 7s;
            animation-delay: 7s;
        }
        .bg-bubbles li:nth-child(8) {
            left: 55%;
            width: 20px;
            height: 20px;
            -webkit-animation-delay: 15s;
            animation-delay: 15s;
            -webkit-animation-duration: 40s;
            animation-duration: 40s;
        }
        .bg-bubbles li:nth-child(9) {
            left: 25%;
            width: 10px;
            height: 10px;
            -webkit-animation-delay: 2s;
            animation-delay: 2s;
            -webkit-animation-duration: 40s;
            animation-duration: 40s;
            background-color: rgba(255, 255, 255, 0.3);
        }
        .bg-bubbles li:nth-child(10) {
            left: 90%;
            width: 160px;
            height: 160px;
            -webkit-animation-delay: 11s;
            animation-delay: 11s;
        }
        @-webkit-keyframes square {
            0% {
                -webkit-transform: translateY(0);
                transform: translateY(0);
            }
            100% {
                -webkit-transform: translateY(-700px) rotate(600deg);
                transform: translateY(-700px) rotate(600deg);
            }
        }
        @keyframes square {
            0% {
                -webkit-transform: translateY(0);
                transform: translateY(0);
            }
            100% {
                -webkit-transform: translateY(-700px) rotate(600deg);
                transform: translateY(-700px) rotate(600deg);
            }
        }

    </style>
	<div class="wrapperlog" style="overflow-y: hidden;">

            <div style="position: absolute; margin-top: 25px;width: 100%;height: 35%;z-index:111;background: rgba(255,255,255,0);    bottom: 55%;transform: translate(0%, 40%);">
                <div style="width:100%;text-align: center;font-weight: 200;color: #FFF; font-size: 35px;">Welcome</div>
                <div style="position: absolute;left:15%;width: 70%;line-height: 80px">
                    <form action="" id="dz_login">
                        <input type="tel" name="phone" placeholder="请输入手机号码" required value=""   />
                        <input id="yzm" name="code" type="number" required placeholder="请输入验证码" value=""  style="float: left;width:55%;"/>
                        <input type="button" value="获取验证码" id="fsyzm"  class="btn sendSms" style="float: right;width:35%;"/>
                        <input type="submit" value="登录"  class="btn"/>
                    </form>
                </div>
            </div>
        <ul class="bg-bubbles">
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
	</div>
        <div style="position: fixed;bottom: 2%;width: 100%;text-align: center;color:#FFF;font-size: 11px;z-index:110;">Powered by 云销控</div>


</block>

<block name="footer_js">
<script>
    var $iszcfs=true;
    //获取验证码
    $(document).on("click", ".sendSms", function () {
            var data = {};
            data.phone = $.trim($("input[name='phone']").val());
            ajax_post_callback('<{:U("send_sms_code")}>', data, function(data) {
                if (data.status === 0) {
                    layer_alert(data['info']);
                }else if (data.status===1){
                   /*
                        layer_tip(data['info']);
                        $('#fsyzm').attr('time', 90);
                        setTimeout("btntime();", 1000);
                  */
                        $("#yzm").val(data['info']);
                }
            });
	});
        
    function  btntime() {
        var nowtime = Number($('#fsyzm').attr('time'));
        if (nowtime > 0) {
            $('#fsyzm').removeClass("sendSms").addClass("yfsSms");
            var c = Number(nowtime) - 1;
            $('#fsyzm').attr('time', c);
            var mx = 120 - (120 - Number(c));
            $('#fsyzm').val(mx + '秒');
            $iszcfs = false;
            setTimeout("btntime();", 1000);
        } else {
            $('#fsyzm').removeClass("yfsSms").addClass("sendSms");
            $('#fsyzm').val('重新获取');
            $iszcfs = true;
        }
    }
        
    $("#dz_login").submit(function () {
        ajax_post_callback('<{:U("check")}>', $(this).serialize(), function(data) {
            if (data.status === 0) {
                layer_alert(data['info']);
            } else if(data.status === 1) {
                layer_tip(data.info);
                setTimeout(function () {
                    window.location=data.url;
                },2000)
            }
        });
        return false;
    });


</script>
</block>
